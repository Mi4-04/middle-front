"use strict";(self.webpackChunkmiddle_front=self.webpackChunkmiddle_front||[]).push([[251],{99682:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(75003);var l=r(74848);let a=(0,n.A)((0,l.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},90982:(e,t,r)=>{r.d(t,{Bv:()=>d,D$:()=>u});var n=r(39708);var l=r(39181);var a=r(77969);let i;let s={};let o=(0,n.J1)(i||(i=(e=>e)`
    query GetPlaylists($realId: String) {
  getPlaylists(realId: $realId) {
    playlists {
      id
      name
      imageUrl
    }
  }
}
    `));function u(e){let t={...s,...e};return l.I(o,t)}function d(e){let t={...s,...e};return a._(o,t)}function c(e){let t={...s,...e};return Apollo.useSuspenseQuery(o,t)}},51025:(e,t,r)=>{r.d(t,{A:()=>g});var n=r(8967);var l=r(33615);var a=r(48158);var i=r(41887);var s=r(36340);var o=r(46255);var u=r(67110);var d=r(11641);var c=r(3577);var v=r(18740);var p=r(96540);var h=r(74848);var m,x;function A(e){let{onDeletePlaylist:t}=e;let[r,n]=(0,p.useState)(null);let l=()=>n(null);let a=async e=>{e.stopPropagation(),await t(),l()};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(d.A,{sx:{width:"20px",ml:37,mt:-1},onClick:e=>{e.stopPropagation(),n(e.currentTarget)},children:m||(m=(0,h.jsx)(o.A,{}))}),(0,h.jsx)(c.A,{id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},anchorEl:r,open:!!r,onClose:l,children:(0,h.jsxs)(v.A,{onClick:a,disableRipple:!0,children:[x||(x=(0,h.jsx)(u.A,{})),"Delete"]})})]})}var f=r(85738);let y=f.I4.img.withConfig({componentId:"sc-td56wg-0"})(["max-width:25rem;width:100%;"]);function g(e){let{list:t,onClick:r,title:o,onDeletePlaylist:u}=e;let{currentUser:d}=(0,s.A)();return(0,h.jsxs)(n.A,{children:[(0,h.jsx)(l.A,{cols:3,children:null!=o?(0,h.jsx)(a.A,{component:"div",children:o}):null},"Subheader"),t.map(({id:e,name:t,imageUrl:n})=>(0,h.jsxs)(l.A,{onClick:()=>r(e),sx:{cursor:"pointer",margin:"0 2rem 2rem 0",maxWidth:"20rem",width:"100%",height:"20rem"},children:[null!=n?(0,h.jsx)(y,{src:`${n}`,alt:t}):(0,h.jsx)(y,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWgAAAEYBAMAAACD6XEnAAAAFVBMVEVAQED////u7u4yMjL09PRUVFSbm5u18thwAAAGeklEQVR42u2dT3PbNhDFlaDjc8mBdRZq2meMMeQ51Cg512Hdc2TG/v4fIfxvUQKodQgsl+2+m0ZS+frzC4ldLOxN1Cr+q9UqXm5YLBaLxWKxWCwWi8VisVgsFovFYrHIyxATyPQzMWmAZx0Rk4CQbja/9q36vbCFXsokSQ4CSprQxuF/1/SGSbPpCR2qT6ruW91/Y9GXINJrNM2kmTSTZtJMmkkzaSbNpLkIWE+NWOmwNtL7t7e3JJJrMv3w3DTY/k2i9cTj1Zi6uSZM+hKthHT8Y2hiGv2yCtNJ9MOctoR/riEe+f2oWSy0ok862Z41uE1G33RUnve3zZF6PC5AVwFJqZPOS8v+zBNt08nWtvmR0Y6HKm2m61RTIO1YT0vrl8XnmHIRsLVvjaWScLkl7+ymxZEy6cL+afG0p0t679o4zWK6pG9dptMDXdJ/ukwbRZd06fq4ONIlXThNP+VkSTu/Kh4jqqT37qmLLKJKekvbtP6o6XSNpFOypG+Jm7aua6dMUy0CEuKmV0nabnq7wnhMmc6gPraKDmmw6fIJ2XQ837QsMuR4JO5V3iegj1tdNywxSauJpSnQR1l9FNd0PlEEwHzEpllbYcZD7dzlFshH83iq8oFJOvnmLGxhPpofVZUP1AZk7JoYf4T5aL+f4TYglbNZA/Kh7vUHsuSLtCvUBhbT7h8y+FbjadbU8UzMYA3IfhfhN2qzWfMe1nyI77BW7xc9/GBQ5z2s+TAKVowU7/8EUElvLfcPUaUDcuH3bGXIkzWW/Qtz3IMu/N7c7vOBNcNk2ZKrQUMuXJzeInFnmCybn3vQhU/uPCJDnhaLz74vbiTswqdbH10+0EjLh/GGfqr2oAvLYvwIxZ3Ly1/NqeduUXr1wuNSPkOey0uiV9MbMOlRAi9cnj/4cScgE/kg6hOCxpgbBb3w2QJRfMKegEyib69/G6OfX6IceuGzRk97/8CdNc2bNV8k4RcubVMi2LOmhzz/yL32onxo7h+0Z00tC61UUp81lZY6/kj9PKKleKjnLWiT/qKtC1rapgvrPA7teFhLyyofpEnbZ1tSSdp04WgAUo6Ho/EgPlMmXerpzUeKpqVwNojpxsO5k9fnY2HSSW55t7y2Ob2w6fj75bux+zeKdPlYNh7qq1YX707s83YDOYFnTa926+pe5Phd90ZNMxq3/IGz6oas1dm78dTvmxHH5Y/2FfUdYdy7cW8u9evThUk3Tz6tRl2yyXS09cuypJsnX4t6eHerJy8kgB3XYKS7hmqDun9X3V0x/RgvS7pbYox67IfiypXq+8eCpIfOta5+5CqKphZ443wsSHpYy9XN377FenfV9GO8IOmTLQJzHAbXr1+sysdipPPTRXMmFTAdo/9DbNLj41Hm2K32yutXqvKxFOkR6GFPRRaAa4FG80OQTs52YtqTc1MLvNP7R74M6cPO1n6GpAM4MB6iCDjf8mr36WLYLxRM5TJFwMVSrn4sJl81yHS7EYlebsWFzUkOSke3/sA3vbM1Ra2b//arqQXiEVubok87DTQtunygkrbe2UQGTEf90RjftP0RYqCgh3xgxuMW7m76/oFJupjruc8Houn5oPt8IMajnO+5PjqKSfqw9QB6s7mJMU3npRfTTT6w4pGAH3uAfGCR9gS6PVQQaNYUMPH2u/nI8YoAX6CbUQqkcssb6GYUC4m0N9DNUQEc0h5B1/nAIX3nD3SdDxTSe+HR81C/BCbtFXS3/ghN2i/o90NrQUnvtF/TRoUnHXsGvRH/7IOTvvcMeshHQNKy8O25z0c40gFA9/ePcKRj/6Cbk0lBu6a3OoDpdhQ8XBEQAnR3VCBYubXVQUxnQUkHAd3lI5TpMKC7fISKR7kJZDoLRzoU6DYfgUyXwUw7jsJ7iIfPKsuSjzCkw4F2nTGebzogaNdp7vnxCAm6zkcA0klQ0I6j8HNN50FBO47Cz4xHaNDdkV2/s6bXp5Jm5+PovQjwXs5eov7Dd7kld6FB24/CzyIdHvR7PryRRgA95MMXaQzQw1EBX6TvNYbpzdEr6QLFc3eUxBPpHdIfgE19kn7DkvLdFkMT0umLiP+wEpMma9rzaea5L/mP77Jpjgeb5nhwPDgeHA+Ox/+XNBcBXG4xaSbNpJk0k2bSTJpJc9d0XhEgD626Ly/6ElxuURLI9DMxwSYBiGnDYrFYLBaLxWKxWCwWi8VisVgsFotFXb8A/Q1WqvssljAAAAAASUVORK5CYII=",alt:t}),(0,h.jsx)(i.A,{title:t,sx:{maxWidth:"fit-content",fontSize:22,fontWeight:"bold"}}),null!=d&&null!=u?(0,h.jsx)(A,{onDeletePlaylist:async()=>u(e)}):null]},e))]})}},90251:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Z});var n=r(47767);var l=r(97834);var a=r(51025);var i=r(90982);var s=r(39708);var o=r(95420);let u;let d={};let c=(0,s.J1)(u||(u=(e=>e)`
    mutation DeletePlaylist($id: String!) {
  deletePlaylist(id: $id) {
    playlists {
      id
      name
      imageUrl
    }
  }
}
    `));var v=r(96540);var p=r(99682);var h=r(11641);var m=r(24178);var x=r(98587);var A=r(58168);var f=r(34164);var y=r(64111);var g=r(11848);var b=r(3541);var j=r(27553);var C=r(17245);function P(e){return(0,C.Ay)("MuiDialogContent",e)}function k(e){return generateUtilityClass("MuiDialogTitle",e)}(0,j.A)("MuiDialogContent",["root","dividers"]);let w=(0,j.A)("MuiDialogTitle",["root"]);var M=r(74848);let S=["className","dividers"];let R=e=>{let{classes:t,dividers:r}=e;return(0,y.A)({root:["root",r&&"dividers"]},P,t)};let T=(0,g.Ay)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>(0,A.A)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${w.root} + &`]:{paddingTop:0}}));let U=v.forwardRef(function e(e,t){let r=(0,b.A)({props:e,name:"MuiDialogContent"});let{className:n,dividers:l=!1}=r,a=(0,x.A)(r,S);let i=(0,A.A)({},r,{dividers:l});let s=R(i);return(0,M.jsx)(T,(0,A.A)({className:(0,f.A)(s.root,n),ownerState:i,ref:t},a))});var N=r(78307);var I=r(60538);var Q=r(30995);var D=r(8239);var F=r(86990);var L=r(58734);var X=r(54409);var Y=r(48855);let z;let O={};let q=(0,s.J1)(z||(z=(e=>e)`
    mutation CreatePlaylist($input: CreatePlaylistInput!) {
  createPlaylist(input: $input) {
    playlists {
      id
      name
      imageUrl
    }
  }
}
    `));var J=r(85738);let E=J.I4.h1.withConfig({componentId:"sc-1fwn6gt-0"})(["padding:2rem 0 1.5rem;"]);let H=J.I4.div.withConfig({componentId:"sc-1fwn6gt-1"})(["display:flex;margin:2rem 0;justify-content:center;"]);var K,V;function W(e){let{onRefreshList:t}=e;let[r]=function(e){let t={...O};return o.n(q,t)}();let n=async e=>{let{name:n}=e;try{await r({variables:{input:{name:n}}}),await t()}catch(e){(0,X.P)((0,Y.n)(e),{type:"error",autoClose:!1})}};return(0,M.jsx)(I.A,{sx:{dispaly:"flex",justifyContent:"center",textAlign:"center",p:1},children:(0,M.jsx)(N.lV,{onSubmit:n,render:({handleSubmit:e,submitting:t,pristine:r,hasValidationErrors:n,hasSubmitErrors:l,dirtySinceLastSubmit:a})=>(0,M.jsxs)(Q.A,{direction:"column",spacing:5,children:[K||(K=(0,M.jsx)(E,{children:"Add playlist"})),(0,M.jsxs)("form",{onSubmit:e,children:[V||(V=(0,M.jsx)(D.Ay,{children:(0,M.jsx)(N.D0,{required:!0,name:"name",component:L.TextField,type:"text",label:"Name"})})),(0,M.jsx)(H,{children:(0,M.jsx)(F.A,{variant:"contained",type:"submit",disabled:r||n||l&&!a||t,children:"Create"})})]})]})})})}function G(e){let{onRefreshList:t}=e;let[r,n]=(0,v.useState)(!1);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(h.A,{onClick:()=>n(!0),children:(0,M.jsx)(p.A,{sx:{width:"4rem",height:"4rem"}})}),(0,M.jsx)(m.A,{sx:{position:"absolute",top:"35%",left:"35%",maxWidth:"40rem",width:"100%"},open:r,onClose:()=>n(!1),children:(0,M.jsx)(U,{children:(0,M.jsx)(W,{onRefreshList:t})})})]})}var B;function Z(){var e;let{data:t,loading:r,refetch:s}=(0,i.D$)();let[u]=function(e){let t={...d};return o.n(c,t)}();let v=(0,n.Zp)();if(r)return B||(B=(0,M.jsx)("h1",{children:"Loading..."}));let p=null!==(e=null==t?void 0:t.getPlaylists.playlists)&&void 0!==e?e:[];let h=async()=>{await s()};let m=async e=>{await u({variables:{id:e}}),await s()};return(0,M.jsxs)(l.A,{children:[(0,M.jsx)(G,{onRefreshList:h}),(0,M.jsx)(a.A,{list:p,onClick:e=>{v(`/my-playlists/${e}`)},onDeletePlaylist:m})]})}},77969:(e,t,r)=>{r.d(t,{_:()=>u});var n=r(31635);var l=r(27243);var a=r(60144);var i=r(39181);var s=r(70111);var o=["refetch","reobserve","fetchMore","updateQuery","startPolling","subscribeToMore"];function u(e,t){var r;var u=l.useRef();var d=l.useRef();var c=l.useRef();var v=(0,a.l)(t,u.current||{});var p=null!==(r=null==v?void 0:v.query)&&void 0!==r?r:e;d.current=t,c.current=p;var h=(0,i.k)((0,s.m)(t&&t.client),p);var m=h.useQuery((0,n.Cl)((0,n.Cl)({},v),{skip:!u.current}));var x=m.observable.options.initialFetchPolicy||h.getDefaultFetchPolicy();var A=Object.assign(m,{called:!!u.current});var f=l.useMemo(function(){var e={};for(var t=0;t<o.length;t++){var r=o[t];!function(t){var r=A[t];e[t]=function(){return u.current||(u.current=Object.create(null),h.forceUpdateState()),r.apply(this,arguments)}}(r)}return e},[]);Object.assign(A,f);var y=l.useCallback(function(e){u.current=e?(0,n.Cl)((0,n.Cl)({},e),{fetchPolicy:e.fetchPolicy||x}):{fetchPolicy:x};var t=(0,a.l)(d.current,(0,n.Cl)({query:c.current},u.current));var r=h.executeQuery((0,n.Cl)((0,n.Cl)({},t),{skip:!1})).then(function(e){return Object.assign(e,f)});return r.catch(function(){}),r},[]);return[y,A]}}}]);